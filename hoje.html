<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Hoje</title>

<link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;700&family=Montserrat:wght@300;400;500&display=swap" rel="stylesheet">

<style>
html, body {
  margin:0;
  padding:0;
  background-color:#fff;
  font-family:"DM Sans", sans-serif;
  height:100%;
}

.navbar {
  background-color:#000;
  padding:12px 20px;
  display:flex;
  justify-content:flex-end;
  gap:30px;
  font-family:"Montserrat", sans-serif;
}

.navbar a {
  color:#fff;
  text-decoration:none;
}

.container {
  width:95%;
  max-width:1400px;
  margin:30px auto;
}

.table-title {
  text-align:center;
  margin-bottom:20px;
  font-family:"Montserrat";
  font-size:18px;
  color:#1E4DB7;
}

.table-wrapper {
  overflow-x:auto;
  border-radius:8px;
  box-shadow:0 2px 8px rgba(0,0,0,0.1);
}

.hoje-table {
  width:100%;
  border-collapse:collapse;
  font-family:"Montserrat";
  font-size:13px;
}

.hoje-table th {
  background-color:#164CAD;
  color:white;
  padding:12px 8px;
}

.hoje-table td {
  padding:10px 8px;
  border-bottom:1px solid #e0e0e0;
  text-align:center;
}

.hoje-table tbody tr:nth-child(even) {
  background-color:#f9f9f9;
}
</style>
</head>

<body>

<nav class="navbar">
  <a href="index.html">Histórico</a>
  <a href="hoje.html">Hoje</a>
</nav>

<div class="container">

<div class="table-title">
Acompanhamento Diário - Ibovespa
</div>

<div class="table-wrapper">

<table class="hoje-table">
<thead>
<tr>
<th>Ação</th>
<th>Setor</th>
<th>Peso no<br>Ibov</th>
<th>Variação %<br>Hoje</th>
<th>Contribuição<br>para Ibov</th>
<th>% da<br>contribuição</th>
</tr>
</thead>

<tbody id="tabelaHojeBody">
<!-- preenchido via JS -->
</tbody>

</table>

</div>
</div>

<script>

const CSV_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vSjEpwKbe5Q2Em0ZexDiCjBT1qUjr2SM2xCuROpQKnHr64XxUqaZ4p2eQurmL_4JTt45Wr-Ok5GRTdn/pub?output=csv";

async function carregarDados() {

    const response = await fetch(CSV_URL);
    const csvText = await response.text();

    // separa linhas
    const linhas = csvText.split("\n");

    const tbody = document.getElementById("tabelaHojeBody");

    tbody.innerHTML = "";

    linhas.forEach((linha, index) => {

        // pula header se existir
        if(index === 0) return;

        const colunas = linha.split(",");

        // pega coluna 300 (index zero-based)
        const acao = colunas[300];

        // ignora linhas vazias
        if(!acao) return;

        const tr = document.createElement("tr");

        tr.innerHTML = `
            <td>${acao}</td>
            <td>-</td>
            <td>-</td>
            <td>-</td>
            <td>-</td>
            <td>-</td>
        `;

        tbody.appendChild(tr);

    });

}

carregarDados();

</script>

</body>
</html>
